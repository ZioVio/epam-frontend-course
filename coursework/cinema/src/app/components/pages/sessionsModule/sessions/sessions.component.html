<div class="content-wrapper">
  <div class="top-loader-container" *ngIf="this.sessionsLoading">
    <app-loader height="40px"></app-loader>
  </div>
  <div class="sessions-grid" *ngIf="!this.sessionsLoading">
    <div class="filters-wrapper">
      <section class="section">
        <div class="section__title">
          Date
        </div>
        <app-date-picker [dates]="this.availableDates" (dateSelected)="this.onDateSelected($event)"
          [initialDate]="this.initialDate"></app-date-picker>
      </section>

      <section class="section">
        <div class="section__title">
          Session types
        </div>
        <form class="form" [formGroup]="this.sessionTypesForm" (change)="onSessionsFormChange($event)">
          <div class="form__group d-flex">
            <input class="form__control checkox" type="checkbox" id="type-2d" formControlName="2D">
            <label for="type-2d">2D</label>

            <input class="form__control checkox" type="checkbox" id="type-3d" formControlName="3D">
            <label for="type-3d">3D</label>
          </div>
        </form>
      </section>
    </div>
    <div class="sessions-wrapper">

      <section class="section">
        <h2 class="section__title">
          Sessions on <span class="date">{{this.currentDateSelected | date: 'EEEE, MMMM d'}}</span>
        </h2>
        <ng-container *ngFor="let filmSession of this.filteredFilmsSessions">
          <div class="film-session" *ngIf="filmSession.sessions.length">
            <div class="film-session__grid">
              <div class="d-flex justify-content-center">
                <app-film-card [film]="filmSession.film" [width]=240></app-film-card>
              </div>
              <app-session-picker [sessions]="filmSession.sessions" (timeSelected)="onTimeSelected($event)">
              </app-session-picker>
            </div>
            <div class="film-session__session" *ngIf="this.selectedSession">
              <app-collapse [expanded]="this.selectedSession.film.id === filmSession.film.id">
                <app-session [session]="this.selectedSession" (close)="this.onCloseSessionDetails()"></app-session>
              </app-collapse>
            </div>
          </div>
        </ng-container>
      </section>
    </div>
  </div>
</div>
